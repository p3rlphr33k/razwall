#!/usr/bin/env python  
# encoding: utf-8
#
# +--------------------------------------------------------------------------+
# | Endian Firewall                                                          |
# +--------------------------------------------------------------------------+
# | Copyright (c) 2005-2011 Endian                                           |
# |         Endian GmbH/Srl                                                  |
# |         Bergweg 41 Via Monte                                             |
# |         39057 Eppan/Appiano                                              |
# |         ITALIEN/ITALIA                                                   |
# |         info@endian.com                                                  |
# |                                                                          |
# | emi is free software: you can redistribute it and/or modify it under     |
# | the terms of GNU General Public License (GPL) version 2.0                |
# | when released with the Community edition                                 |
# | or the GNU Lesser General Public License (LGPL) version 2.1              |
# | when released with the Enterprise edition.                               |
# |                                                                          |
# | emi is distributed in the hope that it will be useful,                   |
# | but WITHOUT ANY WARRANTY; without even the implied warranty of           |
# | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the             |
# | GNU General Public License for more details or the                       |
# | GNU Lesser General Public License for more details.                      |
# |                                                                          |
# | You should have received a copy of the license along with emi.           |
# | If not, see <http://www.gnu.org/licenses/>.                              |
# +--------------------------------------------------------------------------+
#
"""
.. mod:: wizard - Contains the emi-widgets Wizard and StandaloneWizard.

.. synopsis::  Contains the emi-widgets Wizard and StandaloneWizard.

.. automodule:: wizard

Contains the emi-widgets Wizard and StandaloneWizard.

.. moduleauthor:: Alber Maximilian
"""
__all__ = [
    'Wizard',
    'StandaloneWizard'
]

from tw.forms import FormField
from tw.api import CSSLink, JSLink

from endian.emi.widgets.static import jquery_tools

class Wizard(FormField):
    """
    Easy configurable Wizard.
    """

    template = "endian.emi.templates.wizard"
    engine_name = "mako"

    """
    The template of the widget.
    """

    css = [
        CSSLink(link='/toscawidgets/resources/endian.emi/static/css/wizard.css')
    ]
    javascript = [
        JSLink(link='/toscawidgets/resources/endian.emi/static/js/consolelogger.js'),
        JSLink(link='/toscawidgets/resources/endian.emi/static/js/wizard.js'),
        jquery_tools,
    ]
    """
    The required js and css files of this module.
    """

    first_plugin = None
    """
    """

    labels = {}
    """
    """
    
    lazy_loading = True
    """
    """

    leave_wizard_forward = "/manage/dashboard/"
    """
    """
    
    commit_at_leave_wizard = True
    """
    """

    menu = False
    """
    """
    
    plugins = []
    """
    """

    sequential_access_until = 0
    """
    """

    params = ["commit_at_leave_wizard",
              "first_plugin",
              "labels",
              "lazy_loading",
              "leave_wizard_forward",
              "menu",
              "plugins",
              "sequential_access_until"]

    def __init__(self,
                 first_plugin=None,
                 labels=None,
                 lazy_loading=None,
                 menu=None,
                 plugins=None,
                 sequential_access_until=None,
                 leave_wizard_forward=None,
                 commit_at_leave_wizard=None,
                 **params):
        """
        Initilaze the object.
        """

        FormField.__init__(self, **params)
        if first_plugin is not None:
            self.first_plugin = first_plugin[0]
        if lazy_loading is not None:
            self.lazy_loading = lazy_loading
        if labels is not None:
            self.labels = labels
        if menu is not None:
            self.menu = menu
        if plugins is not None:
            self.plugins = plugins
        if sequential_access_until is not None:
            self.sequential_access_until = sequential_access_until
        if leave_wizard_forward is not None:
            self.leave_wizard_forward = leave_wizard_forward
        if commit_at_leave_wizard is not None:
            self.commit_at_leave_wizard = commit_at_leave_wizard
        pass
    pass


class StandaloneWizard(Wizard):
    """
    Easy configurable Wizard.
    Uses the whole page(standalone).
    """

    template = "endian.emi.templates.standalone_wizard"
    engine_name = "mako"
    """
    The template of the widget.
    """

    def __init__(self, *args, **kws):
        self.css.append(CSSLink(link='/toscawidgets/resources/endian.emi/static/css/standalone_wizard.css'))
        super(StandaloneWizard, self).__init__(*args, **kws)
    pass
