
__all__ = [
]

from endian.migration.migration import mainHandler
from endian.core.settingsfile import SettingsFile

def main():
    # migration_hostname_2.2_2.3.sh
    MAIN = "/var/efw/main/settings"
    HOST = "/var/efw/host/settings"
    
    mainsettings = SettingsFile(MAIN)
    hostsettings = SettingsFile(HOST)
    
    domainname = mainsettings.get("DOMAINNAME")
    if not hostsettings.get("DOMAINNAME") and domainname:
        hostsettings.set("DOMAINNAME", domainname)
    hostname = mainsettings.get("HOSTNAME")
    if not hostsettings.get("HOSTNAME") and hostname:
        hostsettings.set("HOSTNAME", hostname)
    hostsettings.write()

if __name__ == '__main__':
    mainHandler(main)